{"filter":false,"title":"compile.py","tooltip":"/mydiycc/my005/compile.py","undoManager":{"mark":2,"position":2,"stack":[[{"start":{"row":0,"column":0},"end":{"row":37,"column":29},"action":"insert","lines":["import inspect","import ply.yacc as yacc","from lex import tokens","from codegen import codegen ","","def p_top(p):","    '''","    teigi : RETURN expression SEMI","    '''","    ","    p[0] = [p[1],p[2],p[3]]","","def p_expression(p):","    '''","    expression : NUMBER","               | expression OPTASU NUMBER","               | expression OPHIKU NUMBER","    '''","    ","    if(len(p) == 2):","        p[0] = ['NUM', p[1]]","    else:","        p[0] = [p[2],p[1],['NUM',p[3]]]","","# syntax error","def p_error(p):","    print ('Syntax error %s' % p)","","parser = yacc.yacc()","","if __name__== '__main__':","    s = '''","    return 4+3;","    '''","    result= parser.parse(s)","    print(\"==AST==\")","    print(result)","    #codegen(result, 'out.s')"],"id":1}],[{"start":{"row":32,"column":11},"end":{"row":32,"column":14},"action":"remove","lines":["4+3"],"id":2},{"start":{"row":32,"column":11},"end":{"row":32,"column":12},"action":"insert","lines":["3"]},{"start":{"row":32,"column":12},"end":{"row":32,"column":13},"action":"insert","lines":["-"]},{"start":{"row":32,"column":13},"end":{"row":32,"column":14},"action":"insert","lines":["1"]},{"start":{"row":32,"column":14},"end":{"row":32,"column":15},"action":"insert","lines":["-"]},{"start":{"row":32,"column":15},"end":{"row":32,"column":16},"action":"insert","lines":["1"]}],[{"start":{"row":37,"column":4},"end":{"row":37,"column":5},"action":"remove","lines":["#"],"id":3}]]},"ace":{"folds":[],"scrolltop":0,"scrollleft":0,"selection":{"start":{"row":0,"column":0},"end":{"row":37,"column":28},"isBackwards":true},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":0},"timestamp":1693542893759,"hash":"c69c9b2cdf9ddf1e5d4f66c2de822ae1d77447d2"}