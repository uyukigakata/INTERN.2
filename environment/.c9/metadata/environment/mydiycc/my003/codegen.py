{"filter":false,"title":"codegen.py","tooltip":"/mydiycc/my003/codegen.py","undoManager":{"mark":0,"position":0,"stack":[[{"start":{"row":0,"column":0},"end":{"row":23,"column":0},"action":"insert","lines":["def codegen( tree , filename ):","    with open(filename, mode='w') as f:","        header = '''","            .text","            .globl\tmain","            .type\tmain, @function","        main:","            endbr64","            pushq\t%rbp","            movq\t%rsp, %rbp","        '''","","        footer = '''","            popq\t%rbp","            ret","        \t.size\tmain, .-main","        '''","","        retval = tree[1]","        f.write(header)","        f.write('   movl\t$'+ retval +', %eax')","        f.write(footer)","",""],"id":1}]]},"ace":{"folds":[],"scrolltop":0,"scrollleft":0,"selection":{"start":{"row":0,"column":0},"end":{"row":23,"column":0},"isBackwards":true},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":{"row":1,"state":"start","mode":"ace/mode/python"}},"timestamp":1693536606781,"hash":"5d1e2bdc0a561e070e51d19ecc2ac07789880083"}